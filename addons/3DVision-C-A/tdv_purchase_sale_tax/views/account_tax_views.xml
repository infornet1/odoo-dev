<odoo>
  <record id="view_account_tax_form" model="ir.ui.view">
    <field name="name">account_tax_form_inherit</field>
    <field name="model">account.tax</field>
    <field name="inherit_id" ref="account.view_tax_form"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='active']" position="after">
        <field name="enable_purchase_tax" invisible="1"/>
        <field name="enable_sale_tax" invisible="1"/>
        <field name="show_purchase_tax" widget="boolean_toggle" invisible="not enable_purchase_tax"/>
        <field name="show_sale_tax" widget="boolean_toggle" invisible="not enable_sale_tax"/>
      </xpath>
    </field>
  </record>

  <!-- <record id="view_account_tax_tree" model="ir.ui.view">
    <field name="name">account_tax_tree_inherit</field>
    <field name="model">account.tax</field>
    <field name="inherit_id" ref="account.view_tax_tree"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='active']" position="after">
        <field name="show_purchase_tax" widget="boolean_toggle" invisible="not enable_purchase_tax" optional="hide"/>
        <field name="show_sale_tax" widget="boolean_toggle" invisible="not enable_sale_tax" optional="hide"/>
      </xpath>
      
    </field>
  </record> -->

  <record id="view_move_form" model="ir.ui.view">
    <field name="name">move_form_inherit</field>
    <field name="model">account.move</field>
    <field name="inherit_id" ref="account.view_move_form"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='ref']" position="after">
        <field name="enable_purchase_tax" invisible="1" />
        <field name="enable_sale_tax" invisible="1"/>
        <field name="enable_recalculate_prices" invisible="1" />
        <field name="purchase_tax_ids" widget="many2many_tags" 
                invisible="move_type in ['entry','out_invoice','out_refund'] or not enable_purchase_tax"
                readonly="state=='posted'"/>
        <field name="sale_tax_ids" widget="many2many_tags" 
                invisible="move_type in ['entry','in_invoice','in_refund'] or not enable_sale_tax"
                readonly="state=='posted'"/> 
        <field name="recalculate_prices" widget="boolean_toggle"
               invisible="move_type in ['entry','in_invoice','in_refund'] or not enable_recalculate_prices"/>         
      </xpath>     
    </field>
  </record>

</odoo>
